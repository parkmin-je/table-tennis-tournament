<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">
<head>
    <title>ì„ ìˆ˜ ë­í‚¹</title>
    <th:block layout:fragment="css">
        <style>
            .podium-card {
                border-radius: 16px;
                padding: 2rem;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                color: white;
                box-shadow: 0 8px 24px rgba(0,0,0,0.2);
                transition: transform 0.3s ease;
            }
            .podium-card:hover {
                transform: translateY(-10px);
            }
            .rank-badge {
                width: 60px;
                height: 60px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 2rem;
                font-weight: 900;
                margin-bottom: 1rem;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            }
            .trophy-icon {
                font-size: 3rem;
                animation: bounce 2s infinite;
            }
            @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-10px); }
            }
        </style>
    </th:block>
</head>
<body>
<div layout:fragment="content" class="container my-5">
    <h2 class="section-title">ğŸ† ì„ ìˆ˜ ë­í‚¹</h2>

    <div class="row">
        <!-- TOP 3 í¬ë””ì›€ -->
        <div class="col-12 mb-5">
            <div class="row justify-content-center align-items-end" style="min-height: 350px;">
                <!-- 2ìœ„ -->
                <div class="col-md-3 text-center mb-3" th:if="${players.size() >= 2}">
                    <div class="podium-card" style="background: linear-gradient(135deg, #c0c0c0, #e8e8e8); height: 220px;">
                        <div class="rank-badge" style="background: silver; color: white;">2</div>
                        <h3 th:text="${players[1].name}" class="mb-1">ì„ ìˆ˜ëª…</h3>
                        <p class="text-white-50 mb-0" th:text="${players[1].club != null ? players[1].club.name : '-'}">í´ëŸ½ëª…</p>
                    </div>
                </div>

                <!-- 1ìœ„ -->
                <div class="col-md-3 text-center mb-3" th:if="${!players.isEmpty()}">
                    <div class="podium-card" style="background: linear-gradient(135deg, #ffd700, #ffed4e); height: 280px;">
                        <i class="bi bi-trophy-fill trophy-icon" style="color: white;"></i>
                        <div class="rank-badge" style="background: gold; color: #000;">1</div>
                        <h2 th:text="${players[0].name}" class="mb-1" style="color: #000;">ì„ ìˆ˜ëª…</h2>
                        <p class="mb-0" style="color: #555;" th:text="${players[0].club != null ? players[0].club.name : '-'}">í´ëŸ½ëª…</p>
                    </div>
                </div>

                <!-- 3ìœ„ -->
                <div class="col-md-3 text-center mb-3" th:if="${players.size() >= 3}">
                    <div class="podium-card" style="background: linear-gradient(135deg, #cd7f32, #e6a57e); height: 180px;">
                        <div class="rank-badge" style="background: #cd7f32; color: white;">3</div>
                        <h4 th:text="${players[2].name}" class="mb-1">ì„ ìˆ˜ëª…</h4>
                        <p class="text-white-50 mb-0" th:text="${players[2].club != null ? players[2].club.name : '-'}">í´ëŸ½ëª…</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4ìœ„ ì´í•˜ -->
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0"><i class="bi bi-list-ol me-2"></i>ì „ì²´ ë­í‚¹</h4>
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="table-light">
                            <tr>
                                <th style="width: 80px;">ìˆœìœ„</th>
                                <th>ì„ ìˆ˜ëª…</th>
                                <th>í´ëŸ½</th>
                                <th>ì„±ë³„</th>
                                <th>ë‚˜ì´</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="player, stat : ${players}" th:if="${stat.index >= 3}">
                                <td class="text-center">
                                    <strong class="fs-5" th:text="${player.ranking}">4</strong>
                                </td>
                                <td>
                                    <strong th:text="${player.name}">ì„ ìˆ˜ëª…</strong>
                                </td>
                                <td th:text="${player.club != null ? player.club.name : '-'}">í´ëŸ½ëª…</td>
                                <td>
                                        <span class="badge"
                                              th:classappend="${player.gender == 'ë‚¨ì„±' ? 'bg-primary' : 'bg-danger'}"
                                              th:text="${player.gender}">ì„±ë³„</span>
                                </td>
                                <td th:text="${player.age != null ? player.age + 'ì„¸' : '-'}">ë‚˜ì´</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div th:if="${players.empty}" class="alert alert-info text-center py-5">
        <i class="bi bi-trophy" style="font-size: 3rem; opacity: 0.5;"></i>
        <p class="mt-3 mb-0">ì•„ì§ ë“±ë¡ëœ ë­í‚¹ ì„ ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    </div>
</div>
</body>
</html>